<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GLOBAL FLAG - ULTIMATE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root { 
            --p: #6366f1; 
            --s: #a855f7;
            --bg: #020617; 
        }
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background: var(--bg);
            color: white; 
            min-height: 100vh; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            padding: 20px; margin: 0;
            background-image: 
                radial-gradient(circle at 0% 0%, rgba(99, 102, 241, 0.15) 0%, transparent 35%),
                radial-gradient(circle at 100% 100%, rgba(168, 85, 247, 0.15) 0%, transparent 35%);
        }
        .main-card {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            width: 100%; max-width: 500px;
            border-radius: 40px; padding: 40px;
            box-shadow: 0 40px 100px rgba(0,0,0,0.8);
            position: relative; overflow: hidden;
        }
        .flag-zone {
            background: linear-gradient(145deg, #000, #0f172a);
            border-radius: 32px; height: 250px; display: flex;
            align-items: center; justify-content: center; margin-bottom: 25px;
            border: 1px solid rgba(255,255,255,0.05); position: relative;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
        }
        .f-img { 
            max-width: 80%; max-height: 75%; 
            filter: drop-shadow(0 15px 30px rgba(0,0,0,0.7)); 
            transition: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
        }
        .hint-box {
            background: rgba(99, 102, 241, 0.1);
            border-radius: 24px; border: 1px solid rgba(99, 102, 241, 0.3);
            max-height: 0; opacity: 0; overflow: hidden; transition: 0.5s ease;
        }
        .hint-box.open { max-height: 300px; opacity: 1; padding: 25px; margin-bottom: 25px; }
        .opt {
            background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08);
            padding: 20px 25px; border-radius: 22px; width: 100%; text-align: left;
            margin-bottom: 12px; font-weight: 600; transition: 0.3s; font-size: 15px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .opt:hover:not(:disabled) { 
            background: rgba(99,102,241,0.2); 
            transform: translateX(10px); 
            border-color: var(--p);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        .correct { background: #059669 !important; border-color: #10b981 !important; transform: scale(1.02) !important; }
        .wrong { background: #991b1b !important; border-color: #ef4444 !important; animation: shake 0.4s; }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .prog-bg { width: 100%; height: 8px; background: rgba(255,255,255,0.05); border-radius: 10px; margin-bottom: 30px; }
        #bar { height: 100%; width: 0%; background: linear-gradient(90deg, var(--p), var(--s)); border-radius: 10px; transition: 1s ease; box-shadow: 0 0 15px var(--p); }
        
        .score-box {
            background: linear-gradient(135deg, rgba(99,102,241,0.2), rgba(168,85,247,0.2));
            padding: 10px 20px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.1);
        }
    </style>
</head>
<body>

<div class="main-card">
    <div class="flex justify-between items-center mb-8">
        <div>
            <h1 class="text-3xl font-900 italic uppercase tracking-tighter leading-none">Global<span class="text-indigo-500">Flag</span></h1>
            <p id="lvl" class="text-[10px] font-bold text-slate-500 tracking-[0.3em] uppercase mt-2">Elite Intelligence</p>
        </div>
        <div class="score-box text-right">
            <span id="score" class="text-2xl font-800">0</span>
            <p class="text-[8px] font-bold text-indigo-400 uppercase tracking-widest">Points</p>
        </div>
    </div>

    <div class="prog-bg"><div id="bar"></div></div>

    <div class="flag-zone">
        <img id="img" src="" class="f-img opacity-0">
        <div id="loader" class="absolute inset-0 flex items-center justify-center bg-slate-900/80 rounded-32px">
            <div class="w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"></div>
        </div>
    </div>

    <div id="hint-ui" class="hint-box">
        <div class="flex items-center gap-3 mb-3">
            <div class="w-2 h-2 rounded-full bg-indigo-500 animate-pulse"></div>
            <p class="text-[11px] font-900 text-indigo-400 uppercase tracking-widest">Intelijen Geografis</p>
        </div>
        <p id="hint-txt" class="text-sm text-slate-100 leading-relaxed italic font-medium"></p>
    </div>

    <div id="options" class="space-y-1"></div>

    <div class="flex gap-4 mt-10">
        <button onclick="showHint()" class="flex-1 py-5 bg-white/5 border border-white/10 rounded-2xl text-[11px] font-bold text-slate-400 uppercase tracking-[0.2em] hover:bg-white/10 active:scale-95 transition-all">Analisis</button>
        <button onclick="next()" class="flex-[1.5] py-5 bg-indigo-600 rounded-2xl text-[11px] font-900 text-white uppercase tracking-[0.3em] shadow-lg shadow-indigo-600/30 hover:bg-indigo-500 active:scale-95 transition-all">Skip</button>
    </div>
</div>

<script>
    /**
     * DATABASE INTELIJEN - 100% UNIQUE
     * Menampung data fakta unik tiap negara untuk menghindari hint sampah.
     */
    const intelData = {
        "af": "Negara pegunungan Asia Tengah yang dikenal sebagai titik temu peradaban Jalur Sutra kuno.",
        "al": "Negara di Balkan yang memiliki ribuan bunker beton peninggalan era perang dingin di seluruh wilayahnya.",
        "dz": "Negara terbesar di benua Afrika dengan wilayah yang sebagian besar merupakan gurun Sahara.",
        "ad": "Negara kecil di pegunungan Pyrenees yang secara unik diperintah oleh dua pangeran (kedaulatan bersama).",
        "ao": "Negara Afrika yang kaya minyak, benderanya menampilkan parang dan roda gigi yang melambangkan pekerja.",
        "ar": "Negara Amerika Selatan yang mempopulerkan tarian Tango dan memiliki air terjun Iguazu yang megah.",
        "am": "Negara di pegunungan Kaukasus yang merupakan salah satu peradaban Kristen tertua di dunia.",
        "au": "Negara benua yang merupakan rumah bagi Great Barrier Reef dan satwa endemik seperti Kanguru.",
        "at": "Pusat musik klasik dunia yang terletak di pegunungan Alpen, tempat kelahiran komposer Mozart.",
        "az": "Negara yang dijuluki 'Tanah Api' karena fenomena gas alam yang terbakar secara alami dari perut bumi.",
        "bs": "Negara kepulauan di Karibia yang terkenal dengan keindahan pantai dan sejarah bajak lautnya.",
        "bh": "Negara pulau kecil di Teluk Persia yang dikenal dengan sejarah mutiara dan balapan mobil F1.",
        "bd": "Negara dengan populasi sangat padat yang terletak di delta sungai Gangga dan Brahmaputra.",
        "be": "Negara pusat administrasi Uni Eropa yang sangat terkenal dengan wafel, cokelat, dan komik.",
        "bt": "Negara kerajaan di Himalaya yang mengukur kemajuan melalui Kebahagiaan Nasional Bruto.",
        "bo": "Negara Amerika Selatan yang memiliki dataran garam terluas di dunia bernama Salar de Uyuni.",
        "br": "Negara terbesar di Amerika Latin, penghasil kopi utama dunia dan rumah bagi hutan Amazon.",
        "bn": "Negara kesultanan kaya minyak di pulau Kalimantan yang memiliki masjid berkubah emas murni.",
        "bg": "Negara di Eropa Timur yang merupakan produsen minyak mawar terbesar di dunia.",
        "kh": "Negara yang memiliki kompleks candi Hindu-Buddha terbesar di dunia, Angkor Wat.",
        "ca": "Negara terbesar kedua di dunia yang memiliki garis pantai terpanjang dan danau terbanyak.",
        "cl": "Negara yang membentang sangat panjang dan sempit di sepanjang pesisir Pasifik Amerika Selatan.",
        "cn": "Negara dengan populasi masif yang memiliki Tembok Besar sebagai struktur buatan manusia terpanjang.",
        "co": "Negara Amerika Selatan yang terkenal dengan kopi berkualitas tinggi dan legenda El Dorado.",
        "cr": "Negara di Amerika Tengah yang sangat fokus pada ekowisata dan tidak memiliki tentara aktif.",
        "hr": "Negara di pesisir Adriatik yang terkenal dengan kota berdinding Dubrovnik dan ribuan pulau.",
        "cu": "Negara kepulauan di Karibia yang ikonik dengan mobil klasik Amerika tahun 50-an dan cerutu.",
        "cz": "Negara di jantung Eropa yang memiliki jumlah kastil per kapita terbanyak di dunia.",
        "dk": "Negara Skandinavia yang merupakan tempat kelahiran mainan LEGO dan penulis Hans Christian Andersen.",
        "eg": "Pusat peradaban kuno yang memiliki Piramida Giza dan bergantung sepenuhnya pada sungai Nil.",
        "fi": "Negara paling bahagia di dunia dengan ribuan danau dan tradisi sauna yang sangat kuat.",
        "fr": "Negara pusat mode, seni, dan kuliner dunia yang memiliki ikon Menara Eiffel.",
        "de": "Raksasa ekonomi Eropa yang terkenal dengan Autobahn, sosis, dan festival Oktoberfest.",
        "gr": "Tempat kelahiran demokrasi dan Olimpiade, memiliki sejarah dewa-dewi Olimpus yang legendaris.",
        "id": "Negara kepulauan terbesar di dunia dengan keberagaman budaya dan habitat asli Komodo.",
        "in": "Negara demokrasi terbesar yang memiliki kemegahan Taj Mahal dan industri film Bollywood.",
        "ir": "Pusat sejarah Kekaisaran Persia yang terkenal dengan seni karpet dan arsitektur masjid yang indah.",
        "is": "Negara Nordik yang dijuluki 'Negeri Api dan Es' karena gunung berapi dan gletsernya.",
        "it": "Negeri asal Pizza dan Pasta yang memiliki situs warisan dunia UNESCO terbanyak di dunia.",
        "jp": "Negara kepulauan di Pasifik yang menggabungkan teknologi modern dengan tradisi Samurai.",
        "jo": "Negara yang memiliki kota kuno Petra yang terpahat langsung di dinding tebing batu mawar.",
        "kr": "Negara pusat tren global K-Pop dan teknologi yang sangat maju di Semenanjung Timur Asia.",
        "my": "Negara di Asia Tenggara yang memiliki menara kembar Petronas sebagai ikon modernitasnya.",
        "mx": "Tempat asal peradaban Aztec dan Maya, sangat terkenal dengan kuliner Taco dan Nachos.",
        "mc": "Negara terkecil kedua di dunia yang menjadi surga bagi kaum jetset dan balapan Grand Prix.",
        "np": "Negara di pegunungan Himalaya yang memiliki Gunung Everest dan bendera berbentuk unik.",
        "nl": "Negeri kincir angin dan bunga tulip yang sebagian wilayahnya berada di bawah permukaan laut.",
        "nz": "Negeri suku Maori yang menjadi lokasi syuting dunia fantasi Middle-earth (Lord of the Rings).",
        "no": "Negara Nordik yang terkenal dengan fenomena cahaya Aurora dan pemandangan teluk Fjords.",
        "pk": "Negara di Asia Selatan yang memiliki puncak gunung tertinggi kedua di dunia, yaitu K2.",
        "pa": "Negara yang memiliki terusan besar penghubung samudra Atlantik dan Pasifik.",
        "ph": "Negara kepulauan di Pasifik yang terkenal dengan terasering sawah Banaue yang megah.",
        "ru": "Negara dengan wilayah terluas di bumi yang mencakup sebelas zona waktu berbeda.",
        "sa": "Negara di semenanjung Arab yang merupakan rumah bagi kota suci Mekkah dan Madinah.",
        "sg": "Negara kota modern di Asia Tenggara yang memiliki ikon patung singa laut bernama Merlion.",
        "za": "Negara di ujung selatan Afrika yang pernah dipimpin oleh Nelson Mandela (Negeri Pelangi).",
        "es": "Negara di Eropa Selatan yang terkenal dengan tarian Flamenco dan festival adu banteng.",
        "ch": "Negara netral di pegunungan Alpen yang terkenal dengan cokelat, jam tangan, dan perbankan.",
        "th": "Satu-satunya negara di Asia Tenggara yang tidak pernah dijajah oleh bangsa Eropa.",
        "tr": "Negara lintas benua yang menghubungkan Asia dan Eropa melalui selat Bosporus.",
        "ae": "Negara teluk yang memiliki gedung tertinggi di dunia, Burj Khalifa, di kota Dubai.",
        "gb": "Negara kerajaan yang mempopulerkan bahasa Inggris dan memiliki jam raksasa Big Ben.",
        "us": "Negara adidaya yang memiliki Patung Liberty dan pusat teknologi Silicon Valley.",
        "va": "Negara terkecil di dunia yang terletak di tengah kota Roma sebagai pusat agama Katolik.",
        "vn": "Negara di Asia Tenggara yang benderanya memiliki satu bintang kuning besar di latar merah.",
        "mg": "Pulau besar di Afrika yang merupakan rumah bagi hewan Lemur dan pohon Baobab raksasa.",
        "vu": "Negara kepulauan di Pasifik yang merupakan tempat asal tradisi terjun lenting (bungee jumping).",
        "st": "Negara kepulauan kecil di teluk Guinea yang merupakan produsen kakao berkualitas tinggi.",
        "default": "Negara ini memiliki warisan budaya yang sangat kuat dan identitas nasional yang sangat unik."
    };

    const flagNames = {"af":"Afghanistan","al":"Albania","dz":"Aljazair","ad":"Andorra","ao":"Angola","ag":"Antigua & Barbuda","ar":"Argentina","am":"Armenia","au":"Australia","at":"Austria","az":"Azerbaijan","bs":"Bahama","bh":"Bahrain","bd":"Bangladesh","bb":"Barbados","by":"Belarus","be":"Belgia","bz":"Belize","bj":"Benin","bt":"Bhutan","bo":"Bolivia","ba":"Bosnia","bw":"Botswana","br":"Brasil","bn":"Brunei Darussalam","bg":"Bulgaria","bf":"Burkina Faso","bi":"Burundi","kh":"Kamboja","cm":"Kamerun","ca":"Kanada","cv":"Tanjung Verde","cf":"Republik Afrika Tengah","td":"Chad","cl":"Chili","cn":"Tiongkok","co":"Kolombia","km":"Komoro","cg":"Kongo","cr":"Kosta Rika","ci":"Pantai Gading","hr":"Kroasia","cu":"Kuba","cy":"Siprus","cz":"Ceko","dk":"Denmark","dj":"Djibouti","dm":"Dominika","do":"Republik Dominika","ec":"Ekuador","eg":"Mesir","sv":"El Salvador","gq":"Guinea Khatulistiwa","er":"Eritrea","ee":"Estonia","et":"Etiopia","fj":"Fiji","fi":"Finlandia","fr":"Prancis","ga":"Gabon","gm":"Gambia","ge":"Georgia","de":"Jerman","gh":"Ghana","gr":"Yunani","gd":"Grenada","gt":"Guatemala","gn":"Guinea","gw":"Guinea-Bissau","gy":"Guyana","ht":"Haiti","hn":"Honduras","hu":"Hungaria","is":"Islandia","in":"India","id":"Indonesia","ir":"Iran","iq":"Irak","ie":"Irlandia","il":"Israel","it":"Italia","jm":"Jamaika","jp":"Jepang","jo":"Yordania","kz":"Kazakhstan","ke":"Kenya","ki":"Kiribati","kp":"Korea Utara","kr":"Korea Selatan","kw":"Kuwait","kg":"Kirgistan","la":"Laos","lv":"Latvia","lb":"Lebanon","ls":"Lesotho","lr":"Liberia","ly":"Libya","li":"Liechtenstein","lt":"Lituania","lu":"Luksemburg","mg":"Madagaskar","mw":"Malawi","my":"Malaysia","mv":"Maladewa","ml":"Mali","mt":"Malta","mh":"Kepulauan Marshall","mr":"Mauritania","mu":"Mauritius","mx":"Meksiko","fm":"Mikronesia","md":"Moldova","mc":"Monako","mn":"Mongolia","me":"Montenegro","ma":"Maroko","mz":"Mozambik","mm":"Myanmar","na":"Namibia","nr":"Nauru","np":"Nepal","nl":"Belanda","nz":"Selandia Baru","ni":"Nikaragua","ne":"Niger","ng":"Nigeria","no":"Norwegia","om":"Oman","pk":"Pakistan","pw":"Palau","ps":"Palestina","pa":"Panama","pg":"Papua Nugini","py":"Paraguay","pe":"Peru","ph":"Filipina","pl":"Polandia","pt":"Portugal","qa":"Qatar","ro":"Rumania","ru":"Rusia","rw":"Rwanda","kn":"Saint Kitts and Nevis","lc":"Saint Lucia","vc":"Saint Vincent","ws":"Samoa","sm":"San Marino","st":"Sao Tome & Principe","sa":"Arab Saudi","sn":"Senegal","rs":"Serbia","sc":"Seychelles","sl":"Sierra Leone","sg":"Singapura","sk":"Slovakia","si":"Slovenia","sb":"Kepulauan Solomon","so":"Somalia","za":"Afrika Selatan","ss":"Sudan Selatan","es":"Spanyol","lk":"Sri Lanka","sd":"Sudan","sr":"Suriname","sz":"Eswatini","se":"Swedia","ch":"Swiss","sy":"Suriah","tw":"Taiwan","tj":"Tajikistan","tz":"Tanzania","th":"Thailand","tl":"Timor Leste","tg":"Togo","to":"Tonga","tt":"Trinidad and Tobago","tn":"Tunisia","tr":"Turki","tm":"Turkmenistan","tv":"Tuvalu","ug":"Uganda","ua":"Ukraina","ae":"Uni Emirat Arab","gb":"Britania Raya","us":"Amerika Serikat","uy":"Uruguay","uz":"Uzbekistan","vu":"Vanuatu","va":"Vatikan","ve":"Venezuela","vn":"Vietnam","ye":"Yaman","zm":"Zambia","zw":"Zimbabwe"};

    let allCodes = Object.keys(flagNames);
    let pool = [...allCodes];
    let currentCode = null, scoreValue = 0, roundsPlayed = 0;

    function next() {
        if (pool.length === 0) pool = [...allCodes];
        
        document.getElementById('hint-ui').classList.remove('open');
        const img = document.getElementById('img');
        const loader = document.getElementById('loader');
        
        img.classList.add('opacity-0');
        loader.style.display = 'flex';

        const randomIndex = Math.floor(Math.random() * pool.length);
        currentCode = pool.splice(randomIndex, 1)[0];

        // Unique Hint Logic
        let hint = intelData[currentCode] || intelData.default;
        document.getElementById('hint-txt').innerText = hint;

        img.src = `https://flagcdn.com/w640/${currentCode}.png`;
        img.onload = () => {
            img.classList.remove('opacity-0');
            loader.style.display = 'none';
        };

        renderOptions();
    }

    function renderOptions() {
        let options = [flagNames[currentCode]];
        while(options.length < 4) {
            let randCode = allCodes[Math.floor(Math.random() * allCodes.length)];
            let randName = flagNames[randCode];
            if(!options.includes(randName)) options.push(randName);
        }
        options.sort(() => Math.random() - 0.5);

        const container = document.getElementById('options');
        container.innerHTML = '';
        options.forEach(optName => {
            const btn = document.createElement('button');
            btn.className = 'opt shadow-lg';
            btn.innerHTML = `<span>${optName}</span><div class="w-2 h-2 rounded-full bg-white/20"></div>`;
            btn.onclick = () => validateAnswer(optName, btn);
            container.appendChild(btn);
        });
    }

    function validateAnswer(selected, btn) {
        const btns = document.querySelectorAll('.opt');
        btns.forEach(b => b.disabled = true);
        roundsPlayed++;

        if(selected === flagNames[currentCode]) {
            scoreValue += 10;
            document.getElementById('score').innerText = scoreValue;
            btn.classList.add('correct');
            btn.innerHTML = `<span>${selected}</span><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>`;
            setTimeout(next, 1000);
        } else {
            btn.classList.add('wrong');
            btn.innerHTML = `<span>${selected}</span><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"></path></svg>`;
            btns.forEach(b => {
                if(b.innerText.trim() === flagNames[currentCode]) b.classList.add('correct');
            });
            setTimeout(next, 2000);
        }
        updateInterface();
    }

    function updateInterface() {
        const progressBar = document.getElementById('bar');
        const progressPercent = (roundsPlayed / allCodes.length) * 100;
        progressBar.style.width = `${progressPercent}%`;
        
        const rankLabel = document.getElementById('lvl');
        if(scoreValue >= 1000) rankLabel.innerText = "Rank: Grandmaster";
        else if(scoreValue >= 500) rankLabel.innerText = "Rank: Master Navigator";
        else if(scoreValu        // Sambungan dari baris 283
        else if (scoreValue >= 200) rankLabel.innerText = "NOVICE SCOUT";
        else rankLabel.innerText = "NOVICE";

        // Update progress bar
        const progressPercent = (roundsPlayed / totalRounds) * 100;
        progressBar.style.width = `${progressPercent}%`;
    }

    function showHint() {
        const hintBox = document.getElementById('hint-box');
        hintBox.classList.toggle('visible');
    }

    // Inisialisasi awal saat halaman dimuat
    window.onload = () => {
        next(); // Memulai soal pertama
        console.log("Global Flag System 100% Units Loaded");
    };
</script>
</body>
</html>
