<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skizo AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-900 text-white font-sans">
    <div class="p-4 border-b border-slate-800 bg-slate-900 sticky top-0 font-bold text-purple-400 z-10 text-center">SKIZO AI</div>
    <div id="box" class="p-4 space-y-4 overflow-y-auto pb-24" style="height: calc(100vh - 100px);">
        <div class="bg-slate-800 p-3 rounded-lg max-w-[85%] text-sm shadow-md border border-purple-500/30">
            ðŸ‘‹ **Satu langkah lagi!** <br><br>
            Untuk keamanan, silakan masukkan API Key kamu pada kotak kecil di bawah, lalu baru mulai chat.
        </div>
    </div>
    <div class="fixed bottom-0 w-full p-4 bg-slate-900 border-t border-slate-800 flex flex-col gap-2">
        <input type="password" id="myKey" placeholder="Tempel API Key di sini (AIza...)" class="w-full bg-slate-950 p-2 rounded text-[10px] text-purple-300 border border-slate-700 outline-none focus:border-purple-500">
        <div class="flex gap-2">
            <input type="text" id="in" placeholder="Tulis pesan..." class="flex-1 bg-slate-800 p-3 rounded-xl outline-none border border-slate-700 text-sm">
            <button onclick="ask()" class="bg-purple-600 px-6 rounded-xl font-bold text-sm">KIRIM</button>
        </div>
    </div>
    <script>
        async function ask() {
            const k = document.getElementById('myKey').value.trim();
            const i = document.getElementById('in');
            const b = document.getElementById('box');
            if(!i.value.trim()) return;
            if(!k) { alert("Masukkan API Key dulu di kotak atas!"); return; }
            const p = i.value;
            b.innerHTML += `<div class="bg-purple-600 p-3 rounded-lg max-w-[85%] ml-auto text-sm">${p}</div>`;
            i.value = "Berpikir..."; i.disabled = true;
            try {
                const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${k}`, {
                    method: 'POST', headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ contents: [{ parts: [{ text: p }] }] })
                });
                const d = await res.json();
                const txt = d.candidates[0].content.parts[0].text;
                b.innerHTML += `<div class="bg-slate-800 p-3 rounded-lg max-w-[85%] text-sm border border-slate-700">${txt}</div>`;
            } catch (e) {
                b.innerHTML += `<div class="text-red-400 text-[10px] text-center italic">Error: Kunci salah atau sudah mati. Buat baru di Google AI Studio.</div>`;
            }
            i.value = ""; i.disabled = false;
            b.scrollTop = b.scrollHeight;
        }
    </script>
</body>
</html>
